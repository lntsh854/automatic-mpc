global MPC_CROSSCOMPILER

%% PID parameters
pid_par = [4.5, 0.5, 0, 0.1]; % K, Ti, Td, T

%% DMC parameters
S = [0.000000, 0.002850, 0.104350, 0.195050, 0.276700, 0.350850, 0.416400, 0.476600, 0.530850, 0.579850, 0.620950, 0.660950, 0.696500, 0.727700, 0.756100, 0.782750, 0.804350, 0.826200, 0.845150, 0.860250, 0.875450, 0.890200, 0.902600, 0.912050, 0.921800, 0.932150, 0.941700, 0.948400, 0.953150, 0.959150, 0.965250, 0.971150, 0.973350, 0.979900, 0.980800, 0.985250, 0.987150, 0.990300, 0.993550, 0.994850, 0.996050, 0.997900, 0.998450, 1.000400, 1.001550, 1.005350, 1.004350, 1.004650, 1.007650, 1.007500, 1.007200, 1.007700, 1.007700, 1.010350, 1.010700, 1.009250, 1.008550, 1.011900, 1.011300, 1.009950, 1.010750, 1.011450, 1.009900, 1.010950, 1.011150, 1.012250, 1.012300, 1.011650, 1.011300, 1.013250, 1.013750, 1.013100, 1.011500, 1.011650, 1.011800, 1.012750, 1.012100, 1.013100, 1.013900, 1.012250, 1.013200, 1.013350, 1.013250, 1.013500, 1.014500, 1.012100, 1.013150, 1.014050, 1.012250, 1.012600, 1.013100, 1.013200, 1.013150, 1.013800, 1.012600, 1.013400, 1.012900, 1.012650, 1.012500, 1.013750];
S = [0.002850, 0.104350, 0.195050, 0.276700, 0.350850, 0.416400, 0.476600, 0.530850, 0.579850, 0.620950, 0.660950, 0.696500, 0.727700, 0.756100, 0.782750, 0.804350, 0.826200, 0.845150, 0.860250, 0.875450, 0.890200, 0.902600, 0.912050, 0.921800, 0.932150, 0.941700, 0.948400, 0.953150, 0.959150, 0.965250, 0.971150, 0.973350, 0.979900, 0.980800, 0.985250, 0.987150, 0.990300, 0.993550, 0.994850, 0.996050, 0.997900, 0.998450, 1.000400, 1.001550, 1.005350, 1.004350, 1.004650, 1.007650, 1.007500, 1.007200, 1.007700, 1.007700, 1.010350, 1.010700, 1.009250, 1.008550, 1.011900, 1.011300, 1.009950, 1.010750, 1.011450, 1.009900, 1.010950, 1.011150, 1.012250, 1.012300, 1.011650, 1.011300, 1.013250, 1.013750, 1.013100, 1.011500, 1.011650, 1.011800, 1.012750, 1.012100, 1.013100, 1.013900, 1.012250, 1.013200, 1.013350, 1.013250, 1.013500, 1.014500, 1.012100, 1.013150, 1.014050, 1.012250, 1.012600, 1.013100, 1.013200, 1.013150, 1.013800, 1.012600, 1.013400, 1.012900, 1.012650, 1.012500, 1.013750];
N  = 10;
Nu =  5;
lambda = 1;

%% Code generation
if(MPC_CROSSCOMPILER == 1)
    generate(PID(pid_par),'PID');
    generate(DMC_analitic(S,N,Nu,lambda,[],[],[],[]),'DMC_analitic');
    return;
end

%% Optional simulation
fprintf('Tutaj mozna przeprowadzic symulacje...\n');
